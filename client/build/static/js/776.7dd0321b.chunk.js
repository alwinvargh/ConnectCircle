"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[776],{5776:(e,s,a)=>{a.r(s),a.d(s,{default:()=>d});var t=a(5043),l=a(3216),i=a(6213),r=a(7796),n=a(579);const d=()=>{const[e,s]=(0,t.useState)(!1),a=(0,l.Zp)(),d=(0,l.zy)(),c=new URLSearchParams(d.search),o=c.get("code"),h=c.get("email"),m=d.state?d.state:h,[u,p]=(0,t.useState)(o||""),[x,f]=(0,t.useState)(""),g=(0,t.useCallback)((()=>{s(!0);const e=`http://127.0.0.1:4000/auth/verify?code=${u}&email=${m}`;i.A.get(e).then((e=>{200===e.status&&(a("/email-verified"),p(""),f(""),s(!1))})).catch((e=>{f(e.response.data.message||"Invalid code, please try again."),s(!1)}))}),[u,m,a,s,f]);return(0,t.useEffect)((()=>{o&&h&&g()}),[o,h,g]),"Email is already verified"===x&&a("/signin"),(0,n.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"rounded-md bg-white p-6 shadow-md",children:[(0,n.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Verify your email address"}),!o&&!h&&(0,n.jsxs)("p",{className:"mb-4",children:["A verification code was sent to your email address. Please either",(0,n.jsx)("span",{className:"font-bold",children:" follow "}),"the link in the email or",(0,n.jsx)("span",{className:"font-bold",children:" enter "}),"the code below."]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("input",{type:"text",placeholder:"Verification code",className:"w-full rounded-lg border-2 border-purple-300 p-2",value:u,onChange:e=>{p(e.target.value)}})}),x&&(0,n.jsx)("div",{className:"mb-4 text-sm text-red-500",children:x}),(0,n.jsx)("button",{disabled:e,className:"rounded-lg bg-purple-500 px-4 py-2 text-white hover:bg-purple-600",onClick:g,children:e?(0,n.jsx)(r.A,{loadingText:"Verifying..."}):"Verify"}),(0,n.jsx)("button",{className:"ml-4 rounded-lg bg-gray-300 px-4 py-2 text-gray-800 hover:bg-gray-400",onClick:()=>{a("/signup")},children:"Cancel"})]})})})}}}]);
//# sourceMappingURL=776.7dd0321b.chunk.js.map